<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>주문내역관리</title>
</head>
<body>
<h2>주문내역관리</h2>
<form th:action="@{/admin/orderlist}" method="get">
    <label>검색어</label>
    <select name="category">
        <option value="orderNo" th:selected="${category == 'orderNo'}">주문번호</option>
        <option value="productName" th:selected="${category == 'productName'}">상품명</option>
        <option value="userName" th:selected="${category == 'userName'}">주문자</option>
    </select>
    <input type="text" name="keyword" th:value="${keyword}">
    <label>기간검색</label>
    <input type="datetime-local" name="startDate"
           th:value="${startDate != null ? #temporals.format(startDate, 'yyyy-MM-dd''T''HH:mm') : ''}">
    <input type="datetime-local" name="endDate"
           th:value="${endDate != null ? #temporals.format(endDate, 'yyyy-MM-dd''T''HH:mm') : ''}">
    <button type="submit">검색</button>
    <button type="button" onclick="location.href='@{/admin/order}'">초기화</button>
</form>

<table border="1">
    <thead>
    <tr>
        <th>주문일시</th>
        <th>주문번호</th>
        <th>상품명</th>
        <th>수량</th>
        <th>주문상태</th>
        <th>주문자</th>
        <th>총주문금액</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="order, iterStat : ${orderList}">
        <td th:text="${order.orderTime}"></td>
        <td th:text="${order.orderListId}"></td>
        <td th:text="${order.flowerName}"></td>
        <td th:text="${order.quantity}"></td>
        <td th:text="${order.status}"></td>
        <td th:text="${order.userName}"></td>
        <td th:text="${order.totalPrice}"></td>
    </tr>
    </tbody>
</table>
</body>
</html>