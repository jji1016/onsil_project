<!DOCTYPE html>
<html lang="en">
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="fragments/mainPageHead :: commonHead(
  '온실 플라워 스튜디오',
  ${{'/css/index.css'}},
null
)"></head>
<body>
<header class="header" th:replace="~{fragments/mainPageHeader}"></header>
<div id="section">
    <div class="main_banner swiper main-swiper">
        <div class="swiper-wrapper">
            <div class="swiper-slide bg1">
                <p>온실 스튜디오 정기구독 서비스</p>
                <h2>시간이 지나도, 꽃은 매달 다시 피어나니까</h2>
                <p class="eng">Your monthly dose of floral happiness</p>
                <button type="button" class="m_btn" onclick="location.href='/subscribe/subscribe'">만나러가기</button>
            </div>
            <div class="swiper-slide bg2">
                <p>온실 스튜디오 정기구독 서비스</p>
                <h2>오늘도, 당신을 닮아 피어난 꽃 한 송이</h2>
                <p class="eng">Today too, a flower blooms — just like you</p>
                <button type="button" class="m_btn" onclick="location.href='/subscribe/subscribe'">만나러가기</button>
            </div>
            <div class="swiper-slide bg3">
                <p>온실 스튜디오 정기구독 서비스</p>
                <h2>꽃이 피는 순간, 변하는 당신의 공간</h2>
                <p class="eng">As flowers bloom, so does the atmosphere around you</p>
                <button type="button" class="m_btn" onclick="location.href='/subscribe/subscribe'">만나러가기</button>
            </div>
        </div>
    </div>

    <div class="cont1">
        <h2>많이 사랑받는 꽃들</h2>
        <div class="swiper cont1">
            <div class="swiper-wrapper c1_cont">
                <div class="swiper-slide" th:each="sub : ${subscribes}">
                    <ul>
                        <li><a th:href="@{'/product/detail/' + ${sub.id}}">
                            <img th:src="@{/upload/products/{filename}(filename=${sub.productImage})}" th:alt="${sub.productName} + ' 이미지'"/>
                        </a></li>
                        <li class="c1_txt" th:text="${sub.productName} + ' 구독'"></li>
                        <li>
                            <del th:text="${#numbers.formatInteger(sub.price, 0, 'COMMA')} + '원'">36,200원</del>
                        </li>
                        <li>
                            <p>
                                <span>25%</span>
                                <span th:text="${#numbers.formatInteger(sub.price * 0.75, 0, 'COMMA')} + '원'">26,900원</span>
                            </p>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <div class="cont_plus">
        <h1><img src="/images/header/onsil_logo.png" alt="logo"></h1>
        <p>
            꽃이 머무는 공간이
            곧 온실이 되는 것처럼,<br>
            내 방, 내 거실 안에서 계절의 변화를 느낄 수 있는 소소하지만 확실한 자연의 쉼표.
        </p>
        <div class="bottom_li">
            <ul>
                <li>
                    <img src="/images/index/cplus1.png" alt="cp1">
                    <div>
                        <h4>유럽 감성 기반의 프리미엄 스타일링</h4>
                        <p>
                            유럽식 플로럴 디자인을 바탕으로
                            매월/격주마다<br> 새로운 스타일을 제안하여<br>
                            일상에 우아함과 신선함을 더합니다.
                        </p>
                    </div>
                </li>
                <li>
                    <img src="/images/index/cplus2.png" alt="cp2">
                    <div>
                        <h4>고객 맞춤형 공간 연출 경험</h4>
                        <p>
                            고객의 취향과 공간에 맞춘 꽃 배치 서비스를 통해 <br>
                            집 안을 고급스럽게 변화시키는<br>
                            개인화된 플라워 인테리어 경험을 제공합니다.
                        </p>
                    </div>
                </li>
                <li>
                    <img src="/images/index/cplus3.png" alt="cp3">
                    <div>
                        <h4>정기구독을 넘어선 감성 큐레이션</h4>
                        <p>
                            단순한 꽃 배달이 아닌, 계절과 분위기에 어울리는 <br>
                            테마 큐레이션을 통해 꽃을 통해 감정과 <br>
                            계절을 전하는 브랜드로 자리매김합니다.
                        </p>
                    </div>
                </li>
            </ul>
        </div>
    </div>

    <div class="cont2">
        <h2>계절을 담은 편지, 꽃과 이야기가 도착하는 순간</h2>
        <p>온실에서 피어나는 신상품소식을 담아</p>
        <div class="sub">
            <input type="text" placeholder="이메일 주소를 입력하세요." class="email"><br>
            <button type="button" class="c2_btn">지금, 온실과 연결하기</button>
        </div>
    </div>

    <div class="cont3">
        <ul>
            <li class="c3_m_txt1">
                새로운 계절, 여름의 시작<br>
                이달의 꽃 '장미'로 전하는 여름의 인사
            </li>
            <li class="c3_m_txt2">Start your summer with a bloom of roses</li>
            <li><button type="button" class="c3_btn"><a href="#">만나러가기</a></button></li>
        </ul>
    </div>

    <div class="cont4">
        <div class="c4_cont">
            <div class="c4_txt">
                <h1>ONSIL<br>STORY</h1>
            </div>
            <div class="swiper cont4-swiper">
                <div class="swiper-wrapper">
                    <div class="swiper-slide">
                        <img src="/images/index/cont4-1.png" alt="s1">
                    </div>
                    <div class="swiper-slide">
                        <img src="/images/index/cont4-2.png" alt="s2">
                    </div>
                    <div class="swiper-slide">
                        <img src="/images/index/cont4-3.png" alt="s3">
                    </div>
                    <div class="swiper-slide">
                        <img src="/images/index/cont4-4.png" alt="s4">
                    </div>
                    <div class="swiper-slide">
                        <img src="/images/index/cont4-5.png" alt="s5">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<footer class="footer" th:replace="~{fragments/mainPageFooter}"></footer>
<!-- Swiper JS -->
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script>
    const swiperMain = new Swiper('.main-swiper',{
        loop:true,
        autoplay:{
            delay:4000,
            disableOnInteraction:false,
        },
        effect:'slide',
    });

    const swiper = new Swiper('.swiper.cont1', {
        loop: true,
        autoplay: {
            delay: 3000,
            disableOnInteraction:false,
        },
        slidesPerView:4,
        slidesPerGroup:1,
        spaceBetween:30,
        breakpoints: {
            0: {
                slidesPerView: 1,
            },
            650: {
                slidesPerView: 1.5,
            },
            769: {
                slidesPerView: 2,
            },1025: {
                slidesPerView: 3,
            },
            1301: {
                slidesPerView: 4,
            },
        },
    });

    const swiper2 = new Swiper('.cont4-swiper',{
        loop:true,
        autoplay:{
            delay:3000,
            disableOnInteraction:false,
        },
        slidesPerView:3,
        // slidesPerGroup:1,
        spaceBetween:20,
        // loopedSlides:5,
        // watchSlidesProgress: true,
        // watchSlidesVisibility: true,
        breakpoints: {
            0: {
                slidesPerView: 0.9,
            },
            650: {
                slidesPerView: 1,
            },
            769: {
                slidesPerView: 1.5,
            },
            1025: {
                slidesPerView: 2,
            },
            1301: {
                slidesPerView: 2.5,
            },
            1501:{
                slidePerView: 3,
            },
        },
    });
</script>
<script>
    /* 메일 입력 → /member/signup?email=xxx@yyy.com 으로 이동 */
    document.querySelector('.c2_btn').addEventListener('click', () => {
        const email = document.querySelector('.sub .email').value.trim();

        if (!email || !email.includes('@')) {
            alert('이메일 형식으로 입력해 주세요.');
            return;
        }

        /* localhost:8080 기준 – 상대경로 사용 */
        location.href = '../member/signup?email=' + encodeURIComponent(email);
    });
</script>
</body>
</html>